{"version":3,"sources":["../../../../modules/line-chart/hybrid/LineChart/common.js"],"names":[],"mappings":"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","file":"common.js","sourcesContent":["\nimport { time } from 'd3';\nimport { extent } from 'd3-array';\nimport { scaleLinear, scalePoint } from 'd3-scale';\nimport { timeParse } from 'd3-time-format';\n\nimport defaultStyles from './common/defaultStyles';\nimport { defaultAxisStyles } from './common/defaultAxisStyles';\nimport defaultColors from './common/defaultColors';\n\nconst TIMEPARSER = {};\nconst TIMEFORMAT = {};\n\nconst mapDatumTimeX = (p) => (d) => p(d.x);\nconst mapDatumTimeY = (p) => (d) => p(d.y);\nconst mapDatumX = (d) => d.x;\nconst mapDatumY = (d) => d.y;\n\nexport {\n  mapDatumTimeX,\n  mapDatumTimeY,\n  mapDatumX,\n  mapDatumY\n};\n\nconst formatDatumTimeX = (p) => (d) => p(d.x);\nconst formatDatumTimeY = (p) => (d) => p(d.y);\nconst formatDatumX = (d) => d.x;\nconst formatDatumY = (d) => d.y;\n\nexport {\n  formatDatumTimeX,\n  formatDatumTimeY,\n  formatDatumX,\n  formatDatumY\n};\n\nconst formatString = (v) => (v);\nconst formatNumber = (n) => (\n  (n % 1)\n    ? n.toFixed(1)\n    : n);\n\nexport function formatType(type) {\n  return (type === 'text')\n      ? formatString\n      : formatNumber;\n}\n\nfunction createParser(pattern = '%d-%b-%y') {\n  return (\n    TIMEPARSER[pattern] || (\n    TIMEPARSER[pattern] = timeParse(pattern)));\n}\n\nexport function createMapDatumX(type, pattern) {\n  return (type === 'time')\n    ? formatDatumTimeX(createParser(pattern))\n    : formatDatumX;\n}\n\nexport function createMapDatumY(type, pattern) {\n  return (type === 'time')\n    ? formatDatumTimeY(createParser(pattern))\n    : formatDatumY;\n}\n\nexport function createParserDatumX(type, pattern) {\n  return (type === 'time')\n    ? formatDatumTimeX(createParser(pattern))\n    : formatDatumX;\n}\n\nexport function createParserDatumY(type, pattern) {\n  return (type === 'time')\n    ? formatDatumTimeY(createParser(pattern))\n    : formatDatumY;\n}\n\nexport function createParserY(type, pattern) {\n  return (type === 'time')\n    ? formatDatumTimeY(createParser(pattern))\n    : formatDatumY;\n}\n\nexport function createParserX(type, pattern) {\n  return (type === 'time')\n    ? formatDatumTimeX(createParser(pattern))\n    : formatDatumX;\n}\n\nexport { createParser };\n\nfunction createFormat(pattern = '%b %d') {\n  return (\n    TIMEFORMAT[pattern] || (\n    TIMEFORMAT[pattern] = time.format(pattern)));\n}\n\nexport function createFormatX(type, pattern) {\n  return (type === 'time')\n    ? createFormat(pattern)\n    : (v) => v;\n}\n\nexport function createFormatY(type, pattern) {\n  return (type === 'time')\n    ? createFormat(pattern)\n    : (v) => v;\n}\n\nexport { createFormat };\n\nexport function calculateDomain(data, map) {\n  const domain = [];\n\n  data.forEach((item) => {\n    item.forEach((d, i) => {\n      const v = map(d);\n      if (!domain.includes(v)) {\n        domain.splice(i, 0, v);\n      }\n    });\n  });\n\n  return domain;\n}\n\nexport function calculateExtent(data, map) {\n  let min; // Low\n  let max; // High\n  data.forEach((row) => {\n    const [MIN, MAX] = extent(row, map);\n    /*\n     * Equivalent to\n     *\n     * Math.min()\n     * Math.max()\n     *\n     * For non-numeric values\n     */\n    min =\n      (min < MIN)\n        ? min\n        : MIN;\n    max =\n      (max > MAX)\n        ? max\n        : MAX;\n  });\n  return [min, max];\n}\n\nexport function createDomainX(type, data, pattern) {\n  switch (type) {\n    case 'time':\n      return calculateExtent(data, mapDatumTimeX(createParser(pattern)));\n    case 'text':\n      return calculateDomain(data, mapDatumX);\n    default:\n      return calculateExtent(data, mapDatumX);\n  }\n}\n\nexport function createDomainY(type, data, pattern) {\n  switch (type) {\n    case 'time':\n      return calculateExtent(data, mapDatumTimeY(createParser(pattern)));\n    case 'text':\n      return calculateDomain(data, mapDatumY);\n    default:\n      return calculateExtent(data, mapDatumY);\n  }\n}\n\n/* eslint no-param-reassign: 0 */\nexport const reduce = (p, c) => (p -= c);\n\nexport const createUniqueID = () => Math.floor(Math.random() * new Date().getTime());\n\nexport function createScaleTimeX(domain = [], x = 0) {\n  return time.scale()\n    .domain(domain)\n    .range([0, x]);\n}\n\nexport function createScaleTimeY(domain = [], y = 0) {\n  return time.scale()\n    .domain(domain)\n    .range([y, 0]);\n}\n\nexport function createScaleTextX(domain = [], s = 0) {\n  return scalePoint()\n    .domain(domain)\n    .range([0, s])\n    .padding(0);\n}\n\nexport function createScaleTextY(domain = [], s = 0) {\n  return scalePoint()\n    .domain(domain)\n    .range([0, s])\n    .padding(0);\n}\n\nexport function createScaleLinearX(domain = [], x = 0) {\n  return scaleLinear()\n    .domain(domain)\n    .range([0, x]);\n}\n\nexport function createScaleLinearY(domain = [], y = 0) {\n  return scaleLinear()\n    .domain(domain)\n    .range([y, 0]);\n}\n\nexport function createScaleY(type, domain = [], y = 0) {\n  switch (type) {\n    case 'time':\n      return createScaleTimeY(domain, y);\n    case 'text':\n      return createScaleTextY(domain, y);\n    default:\n      return createScaleLinearY(domain, y);\n  }\n}\n\nexport function createScaleX(type, domain = [], x = 0) {\n  switch (type) {\n    case 'time':\n      return createScaleTimeX(domain, x);\n    case 'text':\n      return createScaleTextX(domain, x);\n    default:\n      return createScaleLinearX(domain, x);\n  }\n}\n\nexport {\n  defaultStyles,\n  defaultColors\n};\n\nexport { defaultAxisStyles as getDefaultAxisStyles };\n"]}