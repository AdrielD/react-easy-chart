{"version":3,"sources":["../../modules/scatterplot-chart/index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react';\nimport {linear, ordinal} from 'd3-scale';\nimport {event as d3LastEvent, min, max, scale, select, svg, time} from 'd3';\nimport {format} from 'd3-time-format';\nimport {extent} from 'd3-array';\nimport { createElement } from 'react-faux-dom';\nimport {Style} from 'radium';\nimport merge from 'lodash.merge';\n\nconst defaultStyle = {\n  '.line': {\n    fill: 'none',\n    strokeWidth: 1.5\n  },\n  '.axis': {\n    font: '10px arial'\n  },\n  '.axis .label': {\n    font: '14px arial'\n  },\n  '.axis path,.axis line': {\n    fill: 'none',\n    stroke: '#000',\n    'shape-rendering': 'crispEdges'\n  },\n  'x.axis path': {\n    display: 'none'\n  },\n  '.dot': {\n    stroke: '#000',\n    opacity: 0.85\n  },\n  '.tick line': {\n    stroke: 'lightgrey',\n    opacity: '0.7'\n  }\n};\n\nlet parseDate = null;\n\nexport default class ScatterplotChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.color = scale.category20();\n  }\n\n  getScale(type) {\n    switch (type) {\n      case 'time':\n        return time.scale();\n      case 'text':\n        return ordinal();\n      default:\n        return linear();\n    }\n  }\n\n  setDomainAndRange(axesType, domainRange, data, type, length) {\n    const dataIndex = axesType === 'x' ? 'x' : 'y';\n    let d3Axis;\n    switch (type) {\n      case 'text':\n        d3Axis = ordinal();\n        d3Axis.domain(data.map((d) => d[dataIndex]), 1);\n        d3Axis.rangePoints([0, length], 1);\n        break;\n      case 'linear':\n        let minAmount = min(data, (d) => d[dataIndex]);\n        const maxAmount = max(data, (d) => d[dataIndex]);\n        d3Axis = linear();\n        if (domainRange) {\n          d3Axis.domain(this.calcDefaultDomain(domainRange, type));\n        } else {\n          // set initial domain\n          d3Axis.domain([minAmount, maxAmount]);\n          // calculate 1 tick offset\n          const ticks = d3Axis.ticks();\n          minAmount = minAmount - (ticks[1] - ticks[0]);\n          d3Axis.domain([minAmount, maxAmount]);\n        }\n        d3Axis.range(axesType === 'x' ? [0, length] : [length, 0]);\n        break;\n      case 'time':\n        d3Axis = time.scale();\n        if (domainRange) {\n          d3Axis.domain(this.calcDefaultDomain(domainRange));\n        } else {\n          d3Axis.domain(extent(data, (d) => parseDate(d[dataIndex])));\n        }\n        d3Axis.range(axesType === 'x' ? [0, length] : [length, 0], 1);\n        break;\n      default:\n        break;\n    }\n    return d3Axis;\n  }\n\n  getDataConfig(type) {\n    const index = this.props.config.findIndex((item) => {\n      return item.type === type;\n    });\n    return this.props.config[index];\n  }\n\n  getFill(data) {\n    const configItem = this.getDataConfig(data.type);\n    return typeof configItem !== 'undefined' ? configItem.color : this.color(data.type);\n  }\n\n  getRadius(data, dataItem, dotRadius) {\n    if (typeof data[0].z !== 'undefined') {\n      const range = extent(data, (d) => d.z);\n      const mn = range[0];\n      const mx = range[1];\n      const p = ((dataItem.z - mn) / (mx - mn));\n      const minRad = 5;\n      const maxRad = 20;\n      const rad = minRad + ((maxRad - minRad) * p);\n      return rad;\n    }\n    return dotRadius;\n  }\n\n  getStroke(data) {\n    const configItem = this.getDataConfig(data.type);\n    return typeof configItem !== 'undefined' ? configItem.stroke : 'none';\n  }\n\n  calcDefaultDomain(domainRange, type) {\n    switch (type) {\n      case 'time':\n        const arr = [parseDate(domainRange[0]), parseDate(domainRange[1])];\n        return arr;\n      default:\n        return domainRange;\n    }\n  }\n\n  findLargestExtent(data, value) {\n    let low;\n    let high;\n    data.map((dataElelment) => {\n      const calcDomainRange = extent(dataElelment, value);\n      low = low < calcDomainRange[0] ? low : calcDomainRange[0];\n      high = high > calcDomainRange[1] ? high : calcDomainRange[1];\n    });\n    return [low, high];\n  }\n\n  calcMargin(axes, spacer) {\n    return axes ?\n    {top: 24, right: 24, bottom: 24, left: 48} :\n    {top: spacer, right: spacer, bottom: spacer, left: spacer};\n  }\n\n  render() {\n    const {\n      axes,\n      axisLabels,\n      clickHandler,\n      data,\n      dotRadius,\n      grid,\n      mouseOverHandler,\n      mouseOutHandler,\n      mouseMoveHandler,\n      style,\n      tickTimeDisplayFormat,\n      xTickNumber,\n      xTicks,\n      yTicks,\n      xType,\n      yType\n      } = this.props;\n    let {width, height, margin, xDomainRange, yDomainRange} = this.props;\n\n    parseDate = format(this.props.datePattern).parse;\n\n    margin = margin ? margin : this.calcMargin(axes, dotRadius * 2);\n\n    width = width - (margin.left + margin.right);\n    height = height - (margin.top + margin.bottom + (dotRadius * 2));\n\n    yDomainRange = yDomainRange ? this.calcDefaultDomain(yDomainRange, yType) : null;\n    xDomainRange = xDomainRange ? this.calcDefaultDomain(xDomainRange, xType) : null;\n\n    const x = this.setDomainAndRange('x', xDomainRange, data, xType, width, dotRadius);\n    const y = this.setDomainAndRange('y', yDomainRange, data, yType, height, dotRadius);\n    const axisMargin = 18;\n\n    const node = createElement('svg');\n    const chart = select(node)\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom + axisMargin + 6)\n      .append('g')\n      .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n    if (axes) {\n      const xAxis = svg.axis()\n        .scale(x)\n        .orient('bottom');\n      if (xType === 'time' && tickTimeDisplayFormat) {\n        xAxis.tickFormat(time.format(tickTimeDisplayFormat));\n      }\n      if (xTickNumber) xAxis.ticks(xTickNumber);\n\n      const yAxis = svg.axis()\n        .scale(y)\n        .orient('left');\n\n      if (grid) xAxis.tickSize(-height, 6).tickPadding(12);\n      if (grid) yAxis.tickSize(-width, 6).tickPadding(12);\n      if (xTicks) xAxis.ticks(xTicks);\n      if (yTicks) yAxis.ticks(yTicks);\n\n      chart.append('g')\n        .attr('class', 'x axis')\n        .attr('transform', `translate(0, ${height})`)\n        .call(xAxis)\n        .append('text')\n        .attr('class', 'label')\n        .attr('x', width)\n        .attr('y', margin.bottom + axisMargin)\n        .style('text-anchor', 'end')\n        .text(axisLabels.x);\n\n      chart.append('g')\n        .attr('class', 'y axis')\n        .call(yAxis)\n        .append('text')\n        .attr('class', 'label')\n        .attr('transform', 'rotate(-90)')\n        .attr('y', -margin.left + 2)\n        .attr('dy', '.71em')\n        .style('text-anchor', 'end')\n        .text(axisLabels.y);\n    }\n\n    chart.selectAll('.dot')\n      .data(data)\n      .enter().append('circle')\n      .attr('class', 'dot')\n      .attr('r', (d) => this.getRadius(data, d, dotRadius))\n      .attr('cx', (d) => {\n        switch (xType) {\n          case ('time'):\n            return x(parseDate(d.x));\n          default:\n            return x(d.x);\n        }\n      })\n      .attr('cy', (d) => { return y(d.y); })\n      .style('fill', (d) => this.getFill(d))\n      .style('stroke', (d) => this.getStroke(d))\n      .on('mouseover', (d) => mouseOverHandler(d, d3LastEvent))\n      .on('mouseout', (d) => mouseOutHandler(d, d3LastEvent))\n      .on('mousemove', () => mouseMoveHandler(d3LastEvent))\n      .on('click', (d) => clickHandler(d, d3LastEvent));\n\n    const uid = Math.floor(Math.random() * new Date().getTime());\n\n    return (\n      <div className={`scatterplot_chart${uid}`}>\n        <Style scopeSelector={`.scatterplot_chart${uid}`} rules={merge({}, defaultStyle, style)}/>\n        {node.toReact()}\n      </div>\n    );\n  }\n}\n\nScatterplotChart.propTypes = {\n  axes: React.PropTypes.bool,\n  axisLabels: React.PropTypes.object,\n  clickHandler: React.PropTypes.func,\n  config: React.PropTypes.array,\n  data: React.PropTypes.array.isRequired,\n  datePattern: React.PropTypes.string,\n  dotRadius: React.PropTypes.number,\n  grid: React.PropTypes.bool,\n  height: React.PropTypes.number,\n  useLegend: React.PropTypes.bool,\n  margin: React.PropTypes.object,\n  mouseOverHandler: React.PropTypes.func,\n  mouseOutHandler: React.PropTypes.func,\n  mouseMoveHandler: React.PropTypes.func,\n  style: React.PropTypes.object,\n  tickTimeDisplayFormat: React.PropTypes.string,\n  width: React.PropTypes.number,\n  xDomainRange: React.PropTypes.array,\n  yDomainRange: React.PropTypes.array,\n  xTickNumber: React.PropTypes.number,\n  yTickNumber: React.PropTypes.number,\n  yTicks: React.PropTypes.number,\n  xTicks: React.PropTypes.number,\n  xType: React.PropTypes.string,\n  yType: React.PropTypes.string\n};\n\nScatterplotChart.defaultProps = {\n  axes: false,\n  axisLabels: {},\n  clickHandler: () => {},\n  config: [],\n  datePattern: '%d-%b-%y',\n  dotRadius: 5,\n  grid: false,\n  mouseOverHandler: () => {},\n  mouseOutHandler: () => {},\n  mouseMoveHandler: () => {},\n  width: 320,\n  height: 180,\n  xType: 'linear',\n  yType: 'linear'\n};\n"]}